{"version":3,"sources":["webpack://Keylani/webpack/universalModuleDefinition","webpack://Keylani/webpack/bootstrap","webpack://Keylani/./src/keylani.interface.js","webpack://Keylani/./src/keylani.globals.js","webpack://Keylani/./src/keylani.helpers.js","webpack://Keylani/./src/keylani.loud.js","webpack://Keylani/./src/keylani.dom.js"],"names":["Globals","require","__isValidateOpts","__readKeys","__addToBindings","__readOnlyKeys","DOMinterface","listen","opts","__KEYLANI_SETTINGS__","hasRun","__addLoudPanel","__listenDOM","state","matchCount","combo","codes","keycodes","window","addEventListener","DEV","console","error","brand","mainDevColors","info","sndDevColors","bind","key","binding","label","when","map","bindings","Object","prototype","toString","call","includes","nBindings","JSON","parse","stringify","getAllBindings","__KEYLANI_BINDINGS__","Keylani","module","exports","keybindingAttr","stateTimeout","maxKeyLength","loudClass","loudDataClass","loudCharClass","paintClass","defaultLoudTimer","__loudText","event","pressed","isExistingBind","__updateStateByCombo","__isSpecialCase","__resetState","setInterval","length","isActive","__cancelEvent","__keyMatchDone","code","keyCode","pressedCount","requiredSettings","style","loud","keyshow","newBinding","replace","__verifyKeyNames","__getMaxLength","split","keyLength","ev","preventDefault","stopPropagation","list","specialCaseChars","indexOf","actualBind","eventProps","result","showLoudData","loudTimer","setTimeout","keys","control","ctrl","alt","shift","esc","enter","tab","capslock","actualKey","toLowerCase","k","join","obj","defineProperty","writable","enumerable","configurable","__loudPanel","headEl","document","head","bodyEl","body","loudStyleEl","createElement","loudEl","loudElChar","type","className","css","styleSheet","cssText","appendChild","createTextNode","loudElCode","loudElPressed","loudElKeyCode","loudElLabel","data","timer","keylaniLoudEl","getElementsByClassName","children","innerText","dataKeyBindings","querySelectorAll","i","elem","domBind","__readDomBinding","dataset","keybind","__paintHtml","keylabel","keywhen","keybinding","boundEl","__canShowTag","keyTag","innerHTML","rule","undefined"],"mappings":"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","file":"keylani.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Keylani\"] = factory();\n\telse\n\t\troot[\"Keylani\"] = factory();\n})(window, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","/*!\n * @name Keylani\n * (c) 2019 Verdexdesign - An open source Org by Simao Nziaka <sdnziaka@gmail.com>\n * @license MIT\n */\n\n/* global MINIMAL_BUILD, DEV */\n\nconst Globals = require('./keylani.globals');\nconst {__isValidateOpts, __readKeys, __addToBindings, __readOnlyKeys} = require('./keylani.helpers');\nconst DOMinterface = !MINIMAL_BUILD && require('./keylani.dom');\n\n/**\n * @description Listen for all key presses for the key bindings added using Keylani\n * @param {object} opts Options passed to Keylani\n * @example\n * <!-- Key bindings added on the DOM -->\n * <a href=\"#top\" data-keybind=\"t:callThisOne\" data-keyshow=\"false\">Top</a>\n * <button data-keybind=\"b:callThisTwo\" data-keyshow=\"true\" data-keylabel=\"Triggered the button click by a key press\">Click here!</button>\n *\n * @example\n * // javascript\n *\n * // Below are the required option values for Keylani's Grande build\n * Keylani.listen({\n *   // 'style' ecan be an object with CSS or a string of a classname\n *   style: { color: 'pink', fontSize: '13px' } or 'key-class',\n *   loud: true, // show the loud panel\n *   keyshow: true // show keys by DOM added binds by default\n * });\n *\n * // listen witll all possible 'options' for Keylani's Grande build\n * Keylani.listen({\n *\t // 'style' ecan be an object with CSS or a string of a classname\n *\t style: { color: 'pink', fontSize: '13px' } or 'key-class',\n *\t loud: true, // show the loud panel\n *\t keyshow: true, // show keys by DOM added binds by default\n *\t loudTimer: 3500, // how long does the loud panel stays on screen\n *\t showLoudData: true // shows data from the key press\n * });\n *\n * // Nano build 'listen' does not read 'options'\n * Keylani.listen();\n *\n * // The multiple Keylani.listen calls here are for example only.\n * // Keylani.listen only runs once. The calls do not overwrite each other.\n *\n * // Global keybind functions on the 'window' object\n * function callThisOne() {...}\n * function callThisTwo() {...}\n */\nfunction listen(opts) {\n\tif(!Globals.__KEYLANI_SETTINGS__.hasRun && __isValidateOpts(opts)) {\n\t\tif(!MINIMAL_BUILD) {\n\t\t\tDOMinterface.__addLoudPanel(opts);\n\t\t\tDOMinterface.__listenDOM(opts);\n\t\t}\n\n\t\tconst state = {\n\t\t\tmatchCount: 0,\n\t\t\tcombo: '',\n\t\t\tcodes: '',\n\t\t\tkeycodes: ''\n\t\t};\n\n\t\twindow.addEventListener('keydown', __readKeys(opts, state));\n\t\t// run only once\n\t\tGlobals.__KEYLANI_SETTINGS__.hasRun = true;\n\t} else if(DEV) {\n\t\tconsole.error(\n\t\t\tGlobals.__KEYLANI_SETTINGS__.brand,\n\t\t\tGlobals.__KEYLANI_SETTINGS__.mainDevColors,\n\t\t\t'Invalid options object.'\n\t\t);\n\t\tconsole.info(\n\t\t\tGlobals.__KEYLANI_SETTINGS__.brand,\n\t\t\tGlobals.__KEYLANI_SETTINGS__.sndDevColors,\n\t\t\t`'listen' options param should be an object with the following fields:\n\t\t{\n\t\t\tstyle: string|object, // required\n\t\t\tloud: boolean, // required\n\t\t\tkeyshow: boolean, // required\n\t\t\tloudTimer: number, // optional\n\t\t\tshowLoudData: boolean, // optional\n\t\t}`);\n\t\tconsole.info(\n\t\t\tGlobals.__KEYLANI_SETTINGS__.brand,\n\t\t\tGlobals.__KEYLANI_SETTINGS__.sndDevColors,\n\t\t\t'See docs for more: https://verdebydesign.github.io/keylani2/global.html#listen'\n\t\t);\n\t}\n}\n\n/**\n * @description Reads a string containing the key or keys separated by '+' to bind to a callback function.\n * The callback takes the key read as an argument for use when the callback is run.\n * @param {string} key The key or keys separated by '+' to listen for\n * @param {function} callback The function to run on success. Format (done) => {}\n * @param {string} label The description of the key binding\n * @param {boolean} when A boolean that indicates when to run a callback function when a key is pressed\n * @example\n * // one key\n * Keylani.bind('h', () => { alert('Hello world!'); }, 'Hello World example!');\n *\n * // a combo of keys\n * Keylani.bind('a + b', () => { alert('Hello world from a combo'); });\n *\n * // theoretically you can have as much keys as possible\n * Keylani.bind('a + b + c + d + e', () => { alert('Hello world from a long combo'); });\n */\nfunction bind(key, binding, label = '', when = true) {\n\tif(typeof key === 'string' && typeof binding === 'function' && typeof label === 'string' && typeof when === 'boolean') {\n\t\t__addToBindings(key, binding, label, when);\n\t\treturn 1;\n\t} else if(DEV) {\n\t\tconsole.error(\n\t\t\tGlobals.__KEYLANI_SETTINGS__.brand,\n\t\t\tGlobals.__KEYLANI_SETTINGS__.mainDevColors,\n\t\t\t'\\'bind\\' must have the following params of the following types: '\n\t\t);\n\t\tconsole.info(\n\t\t\tGlobals.__KEYLANI_SETTINGS__.brand,\n\t\t\tGlobals.__KEYLANI_SETTINGS__.sndDevColors,\n\t\t\t'`Keylani.bind(key: string, binding: function, label: string, when: boolean)`'\n\t\t);\n\t\tconsole.info(\n\t\t\tGlobals.__KEYLANI_SETTINGS__.brand,\n\t\t\tGlobals.__KEYLANI_SETTINGS__.sndDevColors,\n\t\t\t'See docs for more: https://verdebydesign.github.io/keylani2/global.html#bind'\n\t\t);\n\n\t\treturn 0;\n\t}\n}\n\n/**\n * @description A (key, value) map of bindings, reads an object of keys, their respective callback functions and more data.\n * 'map' is just a different way to write a bunch of bind calls; Its objective is to be clean and minimal, to group keys that\n * might be related to each other.\n * @param {object} bindings An object of key bindings\n * @example\n * let isDoneLoading = ...;\n * let allowThisKey = ...;\n *\n * Keylani.map({\n *  'q+w': {\n *    bind: callA,\n *    label: 'Combo \"h+e+l+l+o\" bound from Keylani.map',\n *    when: isDoneLoading\n *  },\n * 'r+3': {\n *    bind: callA,\n *    label: 'Combo \"r+3\" bound from Keylani.map',\n *    when: allowThisKey\n *  }\n * });\n */\nfunction map(bindings) {\n\tif(Object.prototype.toString.call(bindings).includes('Object')) {\n\t\tlet nBindings = JSON.parse(JSON.stringify(bindings));\n\t\tfor(let binding in nBindings) {\n\t\t\tif('bind' in bindings[binding] && 'label' in bindings[binding] && 'when' in bindings[binding]) {\n\t\t\t\tbind(binding, bindings[binding].bind, bindings[binding].label, bindings[binding].when);\n\t\t\t}\n\t\t}\n\t} else if(DEV) {\n\t\tconsole.error(\n\t\t\tGlobals.__KEYLANI_SETTINGS__.brand,\n\t\t\tGlobals.__KEYLANI_SETTINGS__.mainDevColors,\n\t\t\t'Invalid bindings object.'\n\t\t);\n\t\tconsole.info(\n\t\t\tGlobals.__KEYLANI_SETTINGS__.brand,\n\t\t\tGlobals.__KEYLANI_SETTINGS__.sndDevColors,\n\t\t\t`'map' bindings param should be an object of the following model:\n\t\t{\n\t\t\t[key]: string: {\n\t\t\t\tbind: function,\n\t\t\t\tlabel: string,\n\t\t\t\twhen: boolean\n\t\t\t}\n\t\t}`);\n\t\tconsole.info(\n\t\t\tGlobals.__KEYLANI_SETTINGS__.brand,\n\t\t\tGlobals.__KEYLANI_SETTINGS__.sndDevColors,\n\t\t\t'See docs for more: https://verdebydesign.github.io/keylani2/global.html#map'\n\t\t);\n\t}\n}\n\n/**\n * @description Get all added key bindings with data about each bind\n * @returns An object containing all the key bindings added using Keylani\n * @example\n * `{ a: { key: 'a', label: '...', pressed: 2 }, 'b+2': { key: 'b+2', label: '...', pressed: 11 } }`\n */\nfunction getAllBindings() {\n\treturn Globals.__KEYLANI_BINDINGS__;\n}\n\nconst Keylani = { listen, bind, map, getAllBindings };\n__readOnlyKeys(Keylani);\n\nmodule.exports = Keylani;\n","/* global MINIMAL_BUILD, DEV */\n\nconst __KEYLANI_BINDINGS__ = {};\n\nconst __KEYLANI_SETTINGS__ = {\n\tkeybindingAttr: '[data-keybind]',\n\tstateTimeout: 1500,\n\thasRun: false,\n\tmaxKeyLength: 0\n};\n\nif(!MINIMAL_BUILD) {\n\t__KEYLANI_SETTINGS__.loudClass = 'keylani-loud';\n\t__KEYLANI_SETTINGS__.loudDataClass = 'keylani-loud-data';\n\t__KEYLANI_SETTINGS__.loudCharClass = 'keylani-loud-char';\n\t__KEYLANI_SETTINGS__.paintClass = 'keylani-binding';\n\t__KEYLANI_SETTINGS__.defaultLoudTimer = 700;\n}\n\nif(DEV) {\n\t__KEYLANI_SETTINGS__.brand = '%c Keylani ';\n\t__KEYLANI_SETTINGS__.mainDevColors = 'color: white; background: purple;';\n\t__KEYLANI_SETTINGS__.sndDevColors = 'color: black; background: #ead4e6;';\n}\n\nmodule.exports = { __KEYLANI_BINDINGS__, __KEYLANI_SETTINGS__ };\n","/*global MINIMAL_BUILD */\n\nconst Globals = require('./keylani.globals');\nconst __loudText = !MINIMAL_BUILD && require('./keylani.loud').__loudText;\n\nfunction __readKeys(opts, state) {\n\treturn event => {\n\t\tlet pressed = event.key;\n\t\tlet isExistingBind = Globals.__KEYLANI_BINDINGS__[pressed];\n\n\t\tstate.matchCount++;\n\n\t\t__updateStateByCombo(state, event, pressed);\n\n\t\tif(__isSpecialCase(pressed, Globals.__KEYLANI_BINDINGS__)) {\n\t\t\t__resetState(state);\n\t\t}\n\n\t\tsetInterval(() => {\n\t\t\tif(state.combo.length === 1) {\n\t\t\t\t__resetState(state);\n\t\t\t}\n\t\t}, Globals.__KEYLANI_SETTINGS__.stateTimeout);\n\n\t\tif(state.matchCount === 1 && isExistingBind && isExistingBind.isActive) {\n\t\t\t__cancelEvent(event);\n\n\t\t\t__keyMatchDone(pressed, isExistingBind, opts, {\n\t\t\t\tcode: state.code,\n\t\t\t\tkeyCode: state.keyCode,\n\t\t\t\tpressed: ++isExistingBind.pressed\n\t\t\t});\n\n\t\t\t__resetState(state);\n\t\t} if(Globals.__KEYLANI_BINDINGS__[state.combo] && Globals.__KEYLANI_BINDINGS__[state.combo].isActive) {\n\t\t\t__cancelEvent(event);\n\n\t\t\tlet pressedCount = ++Globals.__KEYLANI_BINDINGS__[state.combo].pressed;\n\n\t\t\t__keyMatchDone(state.combo, Globals.__KEYLANI_BINDINGS__[state.combo], opts, {\n\t\t\t\tcode: state.code,\n\t\t\t\tkeyCode: state.keyCode,\n\t\t\t\tpressed: pressedCount\n\t\t\t});\n\t\t\t__resetState(state);\n\t\t} else if(state.matchCount >= Globals.__KEYLANI_SETTINGS__.maxKeyLength) {\n\t\t\t__resetState(state);\n\t\t}\n\t};\n}\n\nfunction __isValidateOpts(opts) {\n\tif(!MINIMAL_BUILD) {\n\t\tlet requiredSettings = (\n\t\t\tObject.prototype.toString.call(opts).includes('Object')\n\t\t\t&& 'loud' in opts\n\t\t\t&& 'style' in opts\n\t\t\t&& 'keyshow' in opts\n\t\t);\n\n\t\t// optional settings\n\t\t// loudTimer - A timer to hide the loud panel - number\n\t\t// showLoudData - toggles showing extra data for the key press - boolean\n\n\t\treturn (\n\t\t\trequiredSettings\n\t\t\t&& (typeof opts.style === 'string' || Object.prototype.toString.call(opts.style).includes('Object'))\n\t\t\t&& typeof opts.loud === 'boolean'\n\t\t\t&& typeof opts.keyshow === 'boolean'\n\t\t);\n\t}\n}\n\nfunction __addToBindings(key, binding, label, when) {\n\tlet newBinding = {};\n\tkey = key.replace(/\\s/g, '');\n\tkey = __verifyKeyNames(key);\n\t__getMaxLength(key.split('+').length);\n\tnewBinding[key] = { key, binding, label, isActive: when, pressed: 0 };\n\tGlobals.__KEYLANI_BINDINGS__[key] = newBinding[key];\n}\n\nfunction __getMaxLength(keyLength) {\n\tGlobals.__KEYLANI_SETTINGS__.maxKeyLength\n\t\t= keyLength > Globals.__KEYLANI_SETTINGS__.maxKeyLength\n\t\t\t? keyLength\n\t\t\t: Globals.__KEYLANI_SETTINGS__.maxKeyLength;\n}\n\nfunction __cancelEvent(ev) {\n\tev.preventDefault();\n\tev.stopPropagation();\n}\n\nfunction __resetState(state) {\n\tstate.matchCount = 0;\n\tstate.combo = '';\n}\n\nfunction __updateStateByCombo(state, event, pressed) {\n\tif(state.combo.length) {\n\t\tstate.combo += `+${pressed}`;\n\t\tstate.code += `+${event.code}`;\n\t\tstate.keyCode += `+${event.keyCode}`;\n\t} else {\n\t\tstate.combo = pressed;\n\t\tstate.code = event.code;\n\t\tstate.keyCode = event.keyCode;\n\t}\n}\n\nfunction __isSpecialCase(key, list) {\n\tlet specialCaseChars = ['CapsLock', 'Enter', 'Shift'];\n\treturn (\n\t\tspecialCaseChars.indexOf(key) !== -1 && !list[key]\n\t);\n}\n\nfunction __keyMatchDone(key, actualBind, opts, eventProps) {\n\tlet binding = actualBind.binding;\n\tlet label = actualBind.label;\n\tlet result = {\n\t\tkey, label,\n\t\tcode: eventProps.code,\n\t\tkeyCode: eventProps.keyCode,\n\t\tpressed: eventProps.pressed\n\t};\n\n\tif(!MINIMAL_BUILD) {\n\t\teventProps.key = key;\n\t\teventProps.label = label;\n\t\teventProps.showLoudData = opts.showLoudData;\n\t\t__loudText(eventProps, opts.loudTimer);\n\t}\n\n\tif(typeof binding === 'function') {\n\t\tsetTimeout(() => {\n\t\t\tbinding(result);\n\t\t}, 500);\n\t}\n}\n\nfunction __verifyKeyNames(key) {\n\tlet keys = {\n\t\tcontrol: 'Control',\n\t\tctrl: 'Control',\n\t\talt: 'Alt',\n\t\tshift: 'Shift',\n\t\tesc: 'Esc',\n\t\tenter: 'Enter',\n\t\ttab: 'Tab',\n\t\tcapslock: 'CapsLock'\n\t};\n\n\tlet combo = key.split('+');\n\tlet actualKey = keys[key.toLowerCase()];\n\n\tif(combo.length === 1) {\n\t\treturn actualKey ? actualKey : key;\n\t} else {\n\t\treturn combo.map(k => (keys[k.toLowerCase()] ? keys[k.toLowerCase()] : k)).join('+');\n\t}\n}\n\nfunction __readOnlyKeys(obj) {\n\tfor(let key in obj) {\n\t\tif(key) {\n\t\t\tObject.defineProperty(obj, key, {\n\t\t\t\twritable: false,\n\t\t\t\tenumerable: false,\n\t\t\t\tconfigurable: false\n\t\t\t});\n\t\t}\n\t}\n}\n\nmodule.exports = { __readKeys, __isValidateOpts, __addToBindings, __readOnlyKeys };\n","const Globals = require('./keylani.globals');\n\nfunction __loudPanel(opts) {\n\tif(opts.loud) {\n\t\tlet headEl = document.head;\n\t\tlet bodyEl = document.body;\n\t\tlet loudStyleEl = document.createElement('style');\n\n\t\tlet loudEl = document.createElement('div');\n\t\tlet loudElChar = document.createElement('span');\n\n\t\tloudStyleEl.type = 'text/css';\n\t\tloudEl.className = Globals.__KEYLANI_SETTINGS__.loudClass;\n\t\tloudEl.style = 'display: none;';\n\n\t\tloudElChar.className = Globals.__KEYLANI_SETTINGS__.loudCharClass;\n\n\t\tlet css = `\n\t\t\t.keylani-loud {\n\t\t\t\tmax-width: 200%;\n\t\t\t\tmargin: auto;\n\t\t\t\ttext-align: center;\n\t\t\t\twhite-space: nowrap;\n\t\t\t\toverflow: hidden;\n\t\t\t\ttext-overflow: ellipsis;\n\t\t\t\ttransition: all 1s;\n\t\t\t\tz-index: 999999999;\n\t\t\t}\n\n\t\t\t.keylani-loud-data {\n\t\t\t\twhite-space: nowrap;\n\t\t\t\toverflow: hidden;\n\t\t\t\ttext-overflow: ellipsis;\n\t\t\t}\n\t\t`;\n\n\t\tif(loudStyleEl.styleSheet) {\n\t\t\t// This is required for IE8 and below.\n\t\t\tloudStyleEl.styleSheet.cssText = css;\n\t\t} else {\n\t\t\tloudStyleEl.appendChild(document.createTextNode(css));\n\t\t}\n\n\t\theadEl.appendChild(loudStyleEl);\n\t\tloudEl.appendChild(loudElChar);\n\n\t\tif(opts.showLoudData) {\n\t\t\tlet loudElCode = document.createElement('p');\n\t\t\tlet loudElPressed = document.createElement('p');\n\t\t\tlet loudElKeyCode = document.createElement('p');\n\t\t\tlet loudElLabel = document.createElement('p');\n\n\t\t\tloudElCode.className = Globals.__KEYLANI_SETTINGS__.loudDataClass;\n\t\t\tloudElPressed.className = Globals.__KEYLANI_SETTINGS__.loudDataClass;\n\t\t\tloudElKeyCode.className = Globals.__KEYLANI_SETTINGS__.loudDataClass;\n\t\t\tloudElLabel.className = Globals.__KEYLANI_SETTINGS__.loudDataClass;\n\n\t\t\tloudEl.appendChild(loudElLabel);\n\t\t\tloudEl.appendChild(loudElPressed);\n\t\t\tloudEl.appendChild(loudElCode);\n\t\t\tloudEl.appendChild(loudElKeyCode);\n\t\t}\n\n\t\tbodyEl.appendChild(loudEl);\n\t}\n}\n\nfunction __loudText(data, timer = Globals.__KEYLANI_SETTINGS__.defaultLoudTimer) {\n\tif(Globals.__KEYLANI_BINDINGS__[data.key]) {\n\t\tlet keylaniLoudEl = document.getElementsByClassName(Globals.__KEYLANI_SETTINGS__.loudClass)[0];\n\t\tif(keylaniLoudEl) {\n\t\t\tkeylaniLoudEl.style = 'display: block;';\n\t\t\tkeylaniLoudEl.children[0].innerText = data.key;\n\n\t\t\tif(data.showLoudData) {\n\t\t\t\tkeylaniLoudEl.children[1].innerText = data.label;\n\t\t\t\tkeylaniLoudEl.children[2].innerText = data.pressed;\n\t\t\t\tkeylaniLoudEl.children[3].innerText = data.code;\n\t\t\t\tkeylaniLoudEl.children[4].innerText = data.keyCode;\n\t\t\t}\n\n\t\t\tsetTimeout(function() {\n\t\t\t\tkeylaniLoudEl.style = 'display: none;';\n\t\t\t\tkeylaniLoudEl.children[0].innerText = '';\n\n\t\t\t\tif(data.showLoudData) {\n\t\t\t\t\tkeylaniLoudEl.children[1].innerText = '';\n\t\t\t\t\tkeylaniLoudEl.children[2].innerText = '';\n\t\t\t\t\tkeylaniLoudEl.children[3].innerText = '';\n\t\t\t\t\tkeylaniLoudEl.children[4].innerText = '';\n\t\t\t\t}\n\t\t\t}, timer || Globals.__KEYLANI_SETTINGS__.defaultLoudTimer);\n\t\t}\n\t}\n}\n\nmodule.exports = { __loudPanel, __loudText };\n","const Globals = require('./keylani.globals');\nconst {__addToBindings} = require('./keylani.helpers');\nconst {__loudPanel} = require('./keylani.loud');\n\nfunction __listenDOM(opts) {\n\tconst dataKeyBindings = document.querySelectorAll(Globals.__KEYLANI_SETTINGS__.keybindingAttr);\n\tfor(let i = 0; i < dataKeyBindings.length; i++) {\n\t\tlet elem = dataKeyBindings[i];\n\t\tlet domBind = __readDomBinding(elem.dataset.keybind);\n\t\t__paintHtml(opts, elem);\n\t\tif(domBind.length) {\n\t\t\t__addToBindings(\n\t\t\t\tdomBind[0],\n\t\t\t\twindow[domBind[1]] || null,\n\t\t\t\telem.dataset.keylabel || '',\n\t\t\t\telem.dataset.keywhen !== 'false'\n\t\t\t);\n\t\t}\n\t}\n}\n\nfunction __addLoudPanel(opts) {\n\t__loudPanel(opts);\n}\n\nfunction __readDomBinding(keybinding) {\n\tif(keybinding && keybinding.includes(':')) {\n\t\tkeybinding = keybinding.replace(/\\s/g, '');\n\t\treturn keybinding.split(':');\n\t}\n\treturn [];\n}\n\nfunction __paintHtml(opts, boundEl) {\n\tif(__canShowTag(opts.keyshow, boundEl)) {\n\t\tlet keyTag = document.createElement('span');\n\t\tkeyTag.className = Globals.__KEYLANI_SETTINGS__.paintClass;\n\t\tlet domBind = __readDomBinding(boundEl.dataset.keybind);\n\n\t\tif(domBind.length) {\n\t\t\tkeyTag.innerHTML = domBind[0];\n\n\t\t\tif(typeof opts.style === 'string') {\n\t\t\t\tkeyTag.className += ` ${opts.style}`;\n\t\t\t} else {\n\t\t\t\tfor(let rule in opts.style) {\n\t\t\t\t\tkeyTag.style[rule] = opts.style[rule];\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tboundEl.appendChild(keyTag);\n\t\t}\n\t}\n}\n\nfunction __canShowTag(keyshow, elem) {\n\treturn (\n\t\telem\n\t\t&& elem.dataset\n\t\t&& elem.dataset.keybind\n\t\t&& keyshow\n\t\t&& elem.dataset.keyshow === undefined\n\t\t|| elem.dataset.keyshow === 'true'\n\t);\n}\n\nmodule.exports = { __listenDOM, __addLoudPanel };\n"],"sourceRoot":""}